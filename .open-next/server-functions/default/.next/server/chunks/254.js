"use strict";exports.id=254,exports.ids=[254],exports.modules={81379:(a,b,c)=>{c.d(b,{m:()=>aY});var d,e,f,g,h,i,j,k,l=Object.defineProperty,m={};((a,b)=>{for(var c in b)l(a,c,{get:b[c],enumerable:!0})})(m,{$:()=>o,bgBlack:()=>I,bgBlue:()=>M,bgCyan:()=>O,bgGreen:()=>K,bgMagenta:()=>N,bgRed:()=>J,bgWhite:()=>P,bgYellow:()=>L,black:()=>y,blue:()=>C,bold:()=>r,cyan:()=>E,dim:()=>s,gray:()=>G,green:()=>A,grey:()=>H,hidden:()=>w,inverse:()=>v,italic:()=>t,magenta:()=>D,red:()=>z,reset:()=>q,strikethrough:()=>x,underline:()=>u,white:()=>F,yellow:()=>B});var n=!0;"undefined"!=typeof process&&({FORCE_COLOR:d,NODE_DISABLE_COLORS:e,NO_COLOR:f,TERM:g}=process.env||{},n=process.stdout&&process.stdout.isTTY);var o={enabled:!e&&null==f&&"dumb"!==g&&(null!=d&&"0"!==d||n)};function p(a,b){let c=RegExp(`\\x1b\\[${b}m`,"g"),d=`\x1b[${a}m`,e=`\x1b[${b}m`;return function(a){return o.enabled&&null!=a?d+(~(""+a).indexOf(e)?a.replace(c,e+d):a)+e:a}}var q=p(0,0),r=p(1,22),s=p(2,22),t=p(3,23),u=p(4,24),v=p(7,27),w=p(8,28),x=p(9,29),y=p(30,39),z=p(31,39),A=p(32,39),B=p(33,39),C=p(34,39),D=p(35,39),E=p(36,39),F=p(37,39),G=p(90,39),H=p(90,39),I=p(40,49),J=p(41,49),K=p(42,49),L=p(43,49),M=p(44,49),N=p(45,49),O=p(46,49),P=p(47,49),Q=["green","yellow","blue","magenta","cyan","red"],R=[],S=Date.now(),T=0,U="undefined"!=typeof process?process.env:{};globalThis.DEBUG??=U.DEBUG??"",globalThis.DEBUG_COLORS??=!U.DEBUG_COLORS||"true"===U.DEBUG_COLORS;var V={enable(a){"string"==typeof a&&(globalThis.DEBUG=a)},disable(){let a=globalThis.DEBUG;return globalThis.DEBUG="",a},enabled(a){let b=globalThis.DEBUG.split(",").map(a=>a.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),c=b.some(b=>""!==b&&"-"!==b[0]&&a.match(RegExp(b.split("*").join(".*")+"$"))),d=b.some(b=>""!==b&&"-"===b[0]&&a.match(RegExp(b.slice(1).split("*").join(".*")+"$")));return c&&!d},log:(...a)=>{let[b,c,...d]=a;(console.warn??console.log)(`${b} ${c}`,...d)},formatters:{}},W=new Proxy(function(a){let b={color:Q[T++%Q.length],enabled:V.enabled(a),namespace:a,log:V.log,extend:()=>{}};return new Proxy((...a)=>{let{enabled:c,namespace:d,color:e,log:f}=b;if(0!==a.length&&R.push([d,...a]),R.length>100&&R.shift(),V.enabled(d)||c){let b=a.map(a=>"string"==typeof a?a:function(a,b=2){let c=new Set;return JSON.stringify(a,(a,b)=>{if("object"==typeof b&&null!==b){if(c.has(b))return"[Circular *]";c.add(b)}else if("bigint"==typeof b)return b.toString();return b},b)}(a)),c=`+${Date.now()-S}ms`;S=Date.now(),globalThis.DEBUG_COLORS?f(m[e](r(d)),...b,m[e](c)):f(d,...b,c)}},{get:(a,c)=>b[c],set:(a,c,d)=>b[c]=d})},{get:(a,b)=>V[b],set:(a,b,c)=>V[b]=c}),X=class extends Error{name="DriverAdapterError";cause;constructor(a){super("string"==typeof a.message?a.message:a.kind),this.cause=a}};W("driver-adapter-utils");var Y={Int32:0,Int64:1,Boolean:5,Text:7,DateTime:10,Bytes:13,UnknownNumber:128};Error("Not implemented: queryRaw"),Error("Not implemented: executeRaw"),Error("Not implemented: startTransaction"),Error("Not implemented: executeScript"),Error("Not implemented: dispose");class Z extends Error{response;request;options;constructor(a,b,c){let d=a.status||0===a.status?a.status:"",e=a.statusText||"",f=`${d} ${e}`.trim();super(`Request failed with ${f?`status code ${f}`:"an unknown error"}: ${b.method} ${b.url}`),this.name="HTTPError",this.response=a,this.request=b,this.options=c}}class $ extends Error{request;constructor(a){super(`Request timed out: ${a.method} ${a.url}`),this.name="TimeoutError",this.request=a}}let _=a=>null!==a&&"object"==typeof a,aa=(...a)=>{for(let b of a)if((!_(b)||Array.isArray(b))&&void 0!==b)throw TypeError("The `options` argument must be an object");return ae({},...a)},ab=(a={},b={})=>{let c=new globalThis.Headers(a),d=b instanceof globalThis.Headers;for(let[a,e]of new globalThis.Headers(b).entries())d&&"undefined"===e||void 0===e?c.delete(a):c.set(a,e);return c};function ac(a,b,c){return Object.hasOwn(b,c)&&void 0===b[c]?[]:ae(a[c]??[],b[c]??[])}let ad=(a={},b={})=>({beforeRequest:ac(a,b,"beforeRequest"),beforeRetry:ac(a,b,"beforeRetry"),afterResponse:ac(a,b,"afterResponse"),beforeError:ac(a,b,"beforeError")}),ae=(...a)=>{let b={},c={},d={};for(let e of a)if(Array.isArray(e))Array.isArray(b)||(b=[]),b=[...b,...e];else if(_(e)){for(let[a,c]of Object.entries(e))_(c)&&a in b&&(c=ae(b[a],c)),b={...b,[a]:c};_(e.hooks)&&(d=ad(d,e.hooks),b.hooks=d),_(e.headers)&&(c=ab(c,e.headers),b.headers=c)}return b},af=(()=>{let a=!1,b=!1,c="function"==typeof globalThis.Request;if("function"==typeof globalThis.ReadableStream&&c)try{b=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return a=!0,"half"}}).headers.has("Content-Type")}catch(a){if(a instanceof Error&&"unsupported BodyInit type"===a.message)return!1;throw a}return a&&!b})(),ag="function"==typeof globalThis.AbortController,ah="function"==typeof globalThis.ReadableStream,ai="function"==typeof globalThis.FormData,aj=["get","post","put","patch","head","delete"],ak={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},al=Symbol("stop"),am={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,fetch:!0},an={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0},ao={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:[413,429,503],maxRetryAfter:1/0,backoffLimit:1/0,delay:a=>.3*2**(a-1)*1e3};async function ap(a,b,c,d){return new Promise((e,f)=>{let g=setTimeout(()=>{c&&c.abort(),f(new $(a))},d.timeout);d.fetch(a,b).then(e).catch(f).then(()=>{clearTimeout(g)})})}async function aq(a,{signal:b}){return new Promise((c,d)=>{function e(){clearTimeout(f),d(b.reason)}b&&(b.throwIfAborted(),b.addEventListener("abort",e,{once:!0}));let f=setTimeout(()=>{b?.removeEventListener("abort",e),c()},a)})}class ar{static create(a,b){let c=new ar(a,b),d=async()=>{if("number"==typeof c._options.timeout&&c._options.timeout>0x7fffffff)throw RangeError("The `timeout` option cannot be greater than 2147483647");await Promise.resolve();let a=await c._fetch();for(let b of c._options.hooks.afterResponse){let d=await b(c.request,c._options,c._decorateResponse(a.clone()));d instanceof globalThis.Response&&(a=d)}if(c._decorateResponse(a),!a.ok&&c._options.throwHttpErrors){let b=new Z(a,c.request,c._options);for(let a of c._options.hooks.beforeError)b=await a(b);throw b}if(c._options.onDownloadProgress){if("function"!=typeof c._options.onDownloadProgress)throw TypeError("The `onDownloadProgress` option must be a function");if(!ah)throw Error("Streams are not supported in your environment. `ReadableStream` is missing.");return c._stream(a.clone(),c._options.onDownloadProgress)}return a},e=c._options.retry.methods.includes(c.request.method.toLowerCase())?c._retry(d):d();for(let[a,d]of Object.entries(ak))e[a]=async()=>{c.request.headers.set("accept",c.request.headers.get("accept")||d);let f=await e;if("json"===a){if(204===f.status||0===(await f.clone().arrayBuffer()).byteLength)return"";if(b.parseJson)return b.parseJson(await f.text())}return f[a]()};return e}request;abortController;_retryCount=0;_input;_options;constructor(a,b={}){if(this._input=a,this._options={...b,headers:ab(this._input.headers,b.headers),hooks:ad({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},b.hooks),method:(a=>aj.includes(a)?a.toUpperCase():a)(b.method??this._input.method??"GET"),prefixUrl:String(b.prefixUrl||""),retry:((a={})=>{if("number"==typeof a)return{...ao,limit:a};if(a.methods&&!Array.isArray(a.methods))throw Error("retry.methods must be an array");if(a.statusCodes&&!Array.isArray(a.statusCodes))throw Error("retry.statusCodes must be an array");return{...ao,...a}})(b.retry),throwHttpErrors:!1!==b.throwHttpErrors,timeout:b.timeout??1e4,fetch:b.fetch??globalThis.fetch.bind(globalThis)},"string"!=typeof this._input&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&"string"==typeof this._input){if(this._input.startsWith("/"))throw Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(ag){this.abortController=new globalThis.AbortController;let a=this._options.signal??this._input.signal;a?.aborted&&this.abortController.abort(a?.reason),a?.addEventListener("abort",()=>{this.abortController.abort(a.reason)}),this._options.signal=this.abortController.signal}if(af&&(this._options.duplex="half"),void 0!==this._options.json&&(this._options.body=this._options.stringifyJson?.(this._options.json)??JSON.stringify(this._options.json),this._options.headers.set("content-type",this._options.headers.get("content-type")??"application/json")),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){let a="string"==typeof this._options.searchParams?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString(),b=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,"?"+a);(ai&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(b,{...this.request}),this._options)}}_calculateRetryDelay(a){if(this._retryCount++,this._retryCount>this._options.retry.limit||a instanceof $)throw a;if(a instanceof Z){if(!this._options.retry.statusCodes.includes(a.response.status))throw a;let b=a.response.headers.get("Retry-After")??a.response.headers.get("RateLimit-Reset")??a.response.headers.get("X-RateLimit-Reset")??a.response.headers.get("X-Rate-Limit-Reset");if(b&&this._options.retry.afterStatusCodes.includes(a.response.status)){let a=1e3*Number(b);Number.isNaN(a)?a=Date.parse(b)-Date.now():a>=Date.parse("2024-01-01")&&(a-=Date.now());let c=this._options.retry.maxRetryAfter??a;return a<c?a:c}if(413===a.response.status)throw a}let b=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,b)}_decorateResponse(a){return this._options.parseJson&&(a.json=async()=>this._options.parseJson(await a.text())),a}async _retry(a){try{return await a()}catch(c){let b=Math.min(this._calculateRetryDelay(c),0x7fffffff);if(this._retryCount<1)throw c;for(let a of(await aq(b,{signal:this._options.signal}),this._options.hooks.beforeRetry))if(await a({request:this.request,options:this._options,error:c,retryCount:this._retryCount})===al)return;return this._retry(a)}}async _fetch(){for(let a of this._options.hooks.beforeRequest){let b=await a(this.request,this._options);if(b instanceof Request){this.request=b;break}if(b instanceof Response)return b}let a=((a,b)=>{let c={};for(let d in b)d in an||d in am||d in a||(c[d]=b[d]);return c})(this.request,this._options),b=this.request;return(this.request=b.clone(),!1===this._options.timeout)?this._options.fetch(b,a):ap(b,a,this.abortController,this._options)}_stream(a,b){let c=Number(a.headers.get("content-length"))||0,d=0;return 204===a.status?(b&&b({percent:1,totalBytes:c,transferredBytes:d},new Uint8Array),new globalThis.Response(null,{status:a.status,statusText:a.statusText,headers:a.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(e){let f=a.body.getReader();async function g(){let{done:a,value:h}=await f.read();if(a)return void e.close();b&&(d+=h.byteLength,b({percent:0===c?0:d/c,transferredBytes:d,totalBytes:c},h)),e.enqueue(h),await g()}b&&b({percent:0,transferredBytes:0,totalBytes:c},new Uint8Array),await g()}}),{status:a.status,statusText:a.statusText,headers:a.headers})}}let as=a=>{let b=(b,c)=>ar.create(b,aa(a,c));for(let c of aj)b[c]=(b,d)=>ar.create(b,aa(a,d,{method:c}));return b.create=a=>as(aa(a)),b.extend=b=>("function"==typeof b&&(b=b(a??{})),as(aa(a,b))),b.stop=al,b},at=as();var au="@prisma/adapter-d1",av=!0;"undefined"!=typeof process&&({FORCE_COLOR:h,NODE_DISABLE_COLORS:i,NO_COLOR:j,TERM:k}=process.env||{},av=process.stdout&&process.stdout.isTTY);var aw={enabled:!i&&null==j&&"dumb"!==k&&(null!=h&&"0"!==h||av)};function ax(a,b){let c=RegExp(`\\x1b\\[${b}m`,"g"),d=`\x1b[${a}m`,e=`\x1b[${b}m`;return function(a){return aw.enabled&&null!=a?d+(~(""+a).indexOf(e)?a.replace(c,e+d):a)+e:a}}ax(0,0),ax(1,22),ax(2,22),ax(3,23),ax(4,24),ax(7,27),ax(8,28),ax(9,29),ax(30,39);var ay=ax(31,39);ax(32,39);var az=ax(33,39),aA=ax(34,39);ax(35,39);var aB=ax(36,39);function aC(a,b){let c=[];a:for(let d=0;d<a.length;d++){for(let a=0;a<b.length;a++){let e=b[a][d];if(null!==e){let a=function(a){switch(typeof a){case"string":return function(a){return aD.test(a)||aE.test(a)?Y.DateTime:Y.Text}(a);case"number":return Y.UnknownNumber;case"object":var b=a;if(b instanceof Array)return Y.Bytes;throw new aF(b);default:throw new aF(a)}}(e);if((void 0===c[d]||a===Y.Text)&&(c[d]=a),a!==Y.UnknownNumber)continue a}}void 0===c[d]&&(c[d]=Y.Int32)}return c}ax(37,39),ax(90,39),ax(90,39),ax(40,49),ax(41,49),ax(42,49),ax(43,49),ax(44,49),ax(45,49),ax(46,49),ax(47,49);var aD=new RegExp(/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))$|^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$|^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/),aE=/^\d{4}-[0-1]\d-[0-3]\d [0-2]\d:[0-5]\d:[0-5]\d$/,aF=class extends Error{name="UnexpectedTypeError";constructor(a){let b=typeof a;super(`unexpected value of type ${b}: ${"object"===b?JSON.stringify(a):String(a)}`)}};function aG(a,b){for(let c=0;c<a.length;c++){let d=a[c];if(d instanceof ArrayBuffer){a[c]=Array.from(new Uint8Array(d));continue}if("number"==typeof d&&(b[c]===Y.Int32||b[c]===Y.Int64)&&!Number.isInteger(d)){a[c]=Math.trunc(d);continue}if("number"==typeof d&&b[c]===Y.Text||"bigint"==typeof d){a[c]=d.toString();continue}b[c]===Y.Boolean&&(a[c]=JSON.parse(d))}return a}function aH(a,b){if(null===a)return null;if("bigint"==typeof a||"bigint"===b.scalarType){let b=Number.parseInt(`${a}`);if(!Number.isSafeInteger(b))throw Error(`Invalid Int64-encoded value received: ${a}`);return b}return"string"==typeof a&&"int"===b.scalarType?Number.parseInt(a):"string"==typeof a&&"float"===b.scalarType||"string"==typeof a&&"decimal"===b.scalarType?Number.parseFloat(a):!0===a?1:!1===a?0:("string"==typeof a&&"datetime"===b.scalarType&&(a=new Date(a)),a instanceof Date)?a.toISOString().replace("Z","+00:00"):"string"==typeof a&&"bytes"===b.scalarType?Array.from(Buffer.from(a,"base64")):a instanceof Uint8Array?Array.from(a):a}function aI(a){if("string"==typeof a.message)return{originalMessage:a.message,...function(a){let b=a.message.split("D1_ERROR: ").at(1)??a.message;if((b=b.split("SqliteError: ").at(1)??b).startsWith("UNIQUE constraint failed")||b.startsWith("PRIMARY KEY constraint failed")){let a=b.split(": ").at(1)?.split(", ").map(a=>a.split(".").pop());return{kind:"UniqueConstraintViolation",constraint:void 0!==a?{fields:a}:void 0}}if(b.startsWith("NOT NULL constraint failed")){let a=b.split(": ").at(1)?.split(", ").map(a=>a.split(".").pop());return{kind:"NullConstraintViolation",constraint:void 0!==a?{fields:a}:void 0}}if(b.startsWith("FOREIGN KEY constraint failed")||b.startsWith("CHECK constraint failed"))return{kind:"ForeignKeyConstraintViolation",constraint:{foreignKey:{}}};if(b.startsWith("no such table"))return{kind:"TableDoesNotExist",table:b.split(": ").at(1)};if(b.startsWith("no such column"))return{kind:"ColumnNotFound",column:b.split(": ").at(1)};else if(b.includes("has no column named "))return{kind:"ColumnNotFound",column:b.split("has no column named ").at(1)};return{kind:"sqlite",extendedCode:a.code??a.cause?.code??1,message:a.message}}(a)};throw a}var aJ=W("prisma:driver-adapter:d1-http");function aK({errors:a}){throw aJ("D1 HTTP Errors: %O",a),new X(aI(a.at(0)??{message:"Unknown error",code:1}))}function aL(a){throw aJ("HTTP Error: %O",a),new X(aI(a))}function aM(a){throw console.error("Error in performIO: %O",a),new X(aI(a))}async function aN(a,b){try{let c=await a.post("raw",b).json();return aJ("[js::performRawQuery] %O",{success:c.success,errors:c.errors,messages:c.messages,result:c.result}),c.success||aK(c),c.result}catch(a){aL(a)}}var aO=class{constructor(a){this.client=a}provider="sqlite";adapterName=`${au}-http`;async queryRaw(a){aJ("[js::query_raw] %O",a);let b=await this.performIO(a);return this.convertData(b)}convertData({columnNames:a,rows:b}){if(0===b.length)return{columnNames:[],columnTypes:[],rows:[]};let c=aC(a,b),d=b.map(a=>aG(a,c));return{columnNames:a,columnTypes:c,rows:d}}async executeRaw(a){return aJ("[js::execute_raw] %O",a),(await this.performIO(a)).affectedRows??0}async performIO(a){try{let b={json:{sql:a.sql,params:a.args.map((b,c)=>aH(b,a.argTypes[c]))}};aJ("[js::perform_io] %O",b);let c=await aN(this.client,b);if(1!==c.length)throw Error("Expected exactly one result");let d=c[0],{columns:e=[],rows:f=[]}=d.results??{},g=d.meta?.changes;return{rows:f,columnNames:e,affectedRows:g}}catch(a){aM(a)}}},aP=class extends aO{constructor(a,b){super(a),this.options=b}async commit(){aJ("[js::commit]")}async rollback(){aJ("[js::rollback]")}},aQ=class extends aO{constructor(a,b){super(at.create({prefixUrl:`https://api.cloudflare.com/client/v4/accounts/${a.CLOUDFLARE_ACCOUNT_ID}/d1/database/${a.CLOUDFLARE_DATABASE_ID}`,headers:{Authorization:`Bearer ${a.CLOUDFLARE_D1_TOKEN}`},throwHttpErrors:!1})),this.release=b}tags={error:ay("prisma:error"),warn:az("prisma:warn"),info:aB("prisma:info"),query:aA("prisma:query")};alreadyWarned=new Set;warnOnce=(a,b,...c)=>{this.alreadyWarned.has(a)||(this.alreadyWarned.add(a),console.info(`${this.tags.warn} ${b}`,...c))};async executeScript(a){try{await aN(this.client,{json:{sql:a}})}catch(a){aM(a)}}getConnectionInfo(){return{maxBindValues:98,supportsRelationJoins:!1}}async startTransaction(a){if(a&&"SERIALIZABLE"!==a)throw new X({kind:"InvalidIsolationLevel",level:a});this.warnOnce("D1 Transaction","Cloudflare D1 does not support transactions yet. When using Prisma's D1 adapter, implicit & explicit transactions will be ignored and run as individual queries, which breaks the guarantees of the ACID properties of transactions. For more details see https://pris.ly/d/d1-transactions");let b={usePhantomQuery:!0};return aJ("%s options: %O","[js::startTransaction]",b),new aP(this.client,b)}async dispose(){await this.release?.()}},aR=class{constructor(a){this.params=a}provider="sqlite";adapterName=`${au}-http`;async connect(){return new aQ(this.params,async()=>{})}async connectToShadowDb(){let a=`https://api.cloudflare.com/client/v4/accounts/${this.params.CLOUDFLARE_ACCOUNT_ID}/d1/database`,b=at.create({headers:{Authorization:`Bearer ${this.params.CLOUDFLARE_D1_TOKEN}`},throwHttpErrors:!1}),c=async()=>{let c="[js::connectToShadowDb::createShadowDatabase]",d=`_prisma_shadow_${globalThis.crypto.randomUUID()}`;aJ(`${c} creating database %s`,d);try{let e=await b.post(a,{json:{name:d}}).json();aJ(`${c} %O`,e),e.success||aK(e);let{uuid:f}=e.result;return aJ(`${c} created database %s with ID %s`,d,f),f}catch(a){aL(a)}},d=this.params.CLOUDFLARE_SHADOW_DATABASE_ID??await c(),e=async()=>{let c="[js::connectToShadowDb::dispose]";try{aJ(`${c} deleting database %s`,d);let e=await b.delete(`${a}/${d}`).json();aJ(`${c} %O`,e),e.success||aK(e)}catch(a){aL(a)}};return new aQ(this.params,e)}},aS=W("prisma:driver-adapter:d1"),aT=class{constructor(a){this.client=a}provider="sqlite";adapterName=au;async queryRaw(a){aS("[js::query_raw] %O",a);let b=await this.performIO(a);return this.convertData(b)}convertData(a){let b=a[0],c=a[1];if(0===c.length)return{columnNames:[],columnTypes:[],rows:[]};let d=Object.values(aC(b,c)),e=c.map(a=>aG(a,d));return{columnNames:b,columnTypes:d,rows:e}}async executeRaw(a){return aS("[js::execute_raw] %O",a),(await this.performIO(a,!0)).meta.changes??0}async performIO(a,b=!1){try{let c=a.args.map((b,c)=>aH(b,a.argTypes[c])),d=this.client.prepare(a.sql).bind(...c);if(b)return await d.run();{let[a,...b]=await d.raw({columnNames:!0});return[a,b]}}catch(a){aX(a)}}},aU=class extends aT{constructor(a,b){super(a),this.options=b}async commit(){aS("[js::commit]")}async rollback(){aS("[js::rollback]")}},aV=class extends aT{constructor(a,b){super(a),this.release=b}tags={error:ay("prisma:error"),warn:az("prisma:warn"),info:aB("prisma:info"),query:aA("prisma:query")};alreadyWarned=new Set;warnOnce=(a,b,...c)=>{this.alreadyWarned.has(a)||(this.alreadyWarned.add(a),console.info(`${this.tags.warn} ${b}`,...c))};async executeScript(a){try{await this.client.exec(a)}catch(a){aX(a)}}getConnectionInfo(){return{maxBindValues:98,supportsRelationJoins:!1}}async startTransaction(a){if(a&&"SERIALIZABLE"!==a)throw new X({kind:"InvalidIsolationLevel",level:a});this.warnOnce("D1 Transaction","Cloudflare D1 does not support transactions yet. When using Prisma's D1 adapter, implicit & explicit transactions will be ignored and run as individual queries, which breaks the guarantees of the ACID properties of transactions. For more details see https://pris.ly/d/d1-transactions");let b={usePhantomQuery:!0};return aS("%s options: %O","[js::startTransaction]",b),new aU(this.client,b)}async dispose(){await this.release?.()}},aW=class{constructor(a){this.client=a}provider="sqlite";adapterName=au;async connect(){return new aV(this.client,async()=>{})}};function aX(a){throw console.error("Error in performIO: %O",a),new X(aI(a))}var aY=class{provider="sqlite";adapterName=au;connect;connectToShadowDb;constructor(a){if(function(a){return"object"==typeof a&&null!==a&&"CLOUDFLARE_D1_TOKEN"in a&&"CLOUDFLARE_ACCOUNT_ID"in a&&"CLOUDFLARE_DATABASE_ID"in a}(a)){let b=new aR(a);this.connect=b.connect.bind(b),this.connectToShadowDb=b.connectToShadowDb.bind(b)}else{let b=new aW(a);this.connect=b.connect.bind(b)}}}},89368:(a,b,c)=>{c.d(b,{DM:()=>e});let d=Symbol.for("__cloudflare-context__");function e(a={async:!1}){return a.async?g():function(){let a=f();if(a)return a;if(function(){let a=globalThis;return a.__NEXT_DATA__?.nextExport===!0}())throw Error("\n\nERROR: `getCloudflareContext` has been called in sync mode in either a static route or at the top level of a non-static one, both cases are not allowed but can be solved by either:\n  - make sure that the call is not at the top level and that the route is not static\n  - call `getCloudflareContext({async: true})` to use the `async` mode\n  - avoid calling `getCloudflareContext` in the route\n");throw Error(i)}()}function f(){return globalThis[d]}async function g(){let a=f();if(a)return a;{var b;let a=await h();return b=a,globalThis[d]=b,a}}async function h(a){let{getPlatformProxy:b}=await import(`${"__wrangler".replaceAll("_","")}`),c=a?.environment??process.env.NEXT_DEV_WRANGLER_ENV,{env:d,cf:e,ctx:f}=await b({...a,envFiles:[],environment:c});return{env:d,cf:e,ctx:f}}let i='\n\nERROR: `getCloudflareContext` has been called without having called `initOpenNextCloudflareForDev` from the Next.js config file.\nYou should update your Next.js config file as shown below:\n\n   ```\n   // next.config.mjs\n\n   import { initOpenNextCloudflareForDev } from "@opennextjs/cloudflare";\n\n   initOpenNextCloudflareForDev();\n\n   const nextConfig = { ... };\n   export default nextConfig;\n   ```\n\n'}};