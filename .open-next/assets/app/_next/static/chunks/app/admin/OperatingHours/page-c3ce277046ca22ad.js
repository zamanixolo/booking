(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[697],{7628:(e,a,t)=>{Promise.resolve().then(t.bind(t,9600))},9600:(e,a,t)=>{"use strict";t.d(a,{default:()=>o});var s=t(5155),r=t(2115);let l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function i(e){let{providers:a}=e,[t,i]=(0,r.useState)([]),[n,d]=(0,r.useState)(!1),[o,c]=(0,r.useState)(""),[u,m]=(0,r.useState)(!1),[h,x]=(0,r.useState)(null),p=async()=>{d(!0),c("");try{let e=await fetch("/app/api/operating-hours");if(e.ok){let a=await e.json(),t=a.map(e=>({...e,isActive:!0===e.isActive||"true"===e.isActive||1===e.isActive}));console.log(a),i(t)}else c("Failed to fetch operating hours")}catch(e){c("Error fetching operating hours"),console.error(e)}finally{d(!1)}};(0,r.useEffect)(()=>{p()},[]);let b=async(e,a)=>{try{(await fetch("/app/api/operating-hours/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,isActive:!a})})).ok?p():c("Failed to update operating hours")}catch(e){c("Error updating operating hours"),console.error(e)}},y=async e=>{if(confirm("Are you sure you want to delete these operating hours?"))try{(await fetch("/app/api/operating-hours/".concat(e),{method:"DELETE"})).ok?p():c("Failed to delete operating hours")}catch(e){c("Error deleting operating hours"),console.error(e)}},g=()=>{x(null),m(!1)},v=e=>{if(!h)return;let{name:a,value:t}=e.target;x(e=>e?{...e,[a]:"dayOfWeek"===a?parseInt(t):t}:null)},f=async()=>{if(h)try{(await fetch("/app/api/operating-hours/".concat(h.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).ok?(p(),g()):c("Failed to save changes")}catch(e){console.error(e),c("Error saving changes")}};return(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Operating Hours"}),o&&(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),n&&(0,s.jsx)("div",{className:"text-center py-4",children:"Loading..."}),!n&&(0,s.jsx)("div",{className:"space-y-4",children:0===t.length?(0,s.jsx)("p",{className:"text-gray-500",children:"No operating hours set."}):t.map(e=>(0,s.jsxs)("div",{className:"border rounded-lg p-4 flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold",children:l[e.dayOfWeek]}),(0,s.jsxs)("p",{className:"text-gray-600",children:[e.startTime," - ",e.endTime]})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>b(e.id,!!e.isActive),className:"px-3 py-1 rounded text-sm ".concat((null==e?void 0:e.isActive)?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:(null==e?void 0:e.isActive)?"Active":"Inactive"}),(0,s.jsx)("button",{onClick:()=>{x(e),m(!0)},className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded text-sm hover:bg-yellow-200",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>y(e.id),className:"px-3 py-1 bg-red-100 text-red-800 rounded text-sm hover:bg-red-200",children:"Delete"})]})]},e.id))}),u&&h&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Edit Operating Hours"}),(0,s.jsx)("button",{onClick:g,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("label",{className:"block",children:["Day of Week",(0,s.jsx)("select",{name:"dayOfWeek",value:h.dayOfWeek,onChange:v,className:"border rounded px-3 py-2 w-full",children:l.map((e,a)=>(0,s.jsx)("option",{value:a,children:e},a))})]}),(0,s.jsxs)("label",{className:"block",children:["Start Time",(0,s.jsx)("input",{type:"time",name:"startTime",value:h.startTime,onChange:v,className:"border rounded px-3 py-2 w-full"})]}),(0,s.jsxs)("label",{className:"block",children:["End Time",(0,s.jsx)("input",{type:"time",name:"endTime",value:h.endTime,onChange:v,className:"border rounded px-3 py-2 w-full"})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2 mt-4",children:[(0,s.jsx)("button",{onClick:g,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Cancel"}),(0,s.jsx)("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save Changes"})]})]})]})})]})}let n=[{value:0,label:"Sunday"},{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"}];function d(e){let{providers:a,onSuccess:t}=e,[l,i]=(0,r.useState)({isActive:!1,dayOfWeek:"",startTime:"09:00",endTime:"17:00"}),[d,o]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),x=async e=>{e.preventDefault(),o(!0),u(""),h("");try{let e=await fetch("/app/api/operating-hours",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...l,dayOfWeek:parseInt(l.dayOfWeek)})});e.ok?(h("Operating hours created successfully!"),i({isActive:!1,dayOfWeek:"",startTime:"09:00",endTime:"17:00"}),t&&t()):(await e.json(),u("Failed to create operating hours"))}catch(e){u("Error creating operating hours"),console.error(e)}finally{o(!1)}},p=e=>{i(a=>({...a,[e.target.name]:e.target.value}))};return(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Add Operating Hours"}),c&&(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:c}),m&&(0,s.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:m}),(0,s.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Day of Week"}),(0,s.jsxs)("select",{name:"dayOfWeek",value:l.dayOfWeek,onChange:p,required:!0,className:"border rounded px-3 py-2 w-full",children:[(0,s.jsx)("option",{value:"",children:"Select a day"}),n.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Start Time"}),(0,s.jsx)("input",{type:"time",name:"startTime",value:l.startTime,onChange:p,required:!0,className:"border rounded px-3 py-2 w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"End Time"}),(0,s.jsx)("input",{type:"time",name:"endTime",value:l.endTime,onChange:p,required:!0,className:"border rounded px-3 py-2 w-full"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Active:"}),(0,s.jsx)("button",{type:"button",onClick:()=>i(e=>({...e,isActive:!e.isActive})),className:"w-12 h-6 flex items-center rounded-full p-1 transition-colors duration-300 ".concat(l.isActive?"bg-green-500":"bg-gray-300"),children:(0,s.jsx)("span",{className:"bg-white w-4 h-4 rounded-full shadow transform transition-transform duration-300 ".concat(l.isActive?"translate-x-6":"")})})]}),(0,s.jsx)("button",{type:"submit",disabled:d,className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition disabled:bg-blue-400",children:d?"Creating...":"Create Operating Hours"})]})]})}function o(){let[e,a]=(0,r.useState)([]),[t,l]=(0,r.useState)("list"),[n,o]=(0,r.useState)(0);return(0,r.useEffect)(()=>{},[]),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Operating Hours Management"}),(0,s.jsx)("div",{className:"border-b mb-6",children:(0,s.jsx)("nav",{className:"flex space-x-8",children:[{id:"list",label:"View Hours"},{id:"create",label:"Add Hours"}].map(e=>(0,s.jsx)("button",{onClick:()=>l(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(t===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id))})}),(0,s.jsxs)("div",{children:["list"===t&&(0,s.jsx)(i,{providers:e},n),"create"===t&&(0,s.jsx)(d,{providers:e,onSuccess:()=>{o(e=>e+1)}})]})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=7628)),_N_E=e.O()}]);