(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[697],{7628:(e,a,r)=>{Promise.resolve().then(r.bind(r,9600))},9600:(e,a,r)=>{"use strict";r.d(a,{default:()=>o});var t=r(5155),s=r(2115);let d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function l(e){let{providers:a}=e,[r,l]=(0,s.useState)(""),[i,n]=(0,s.useState)([]),[o,c]=(0,s.useState)(!1),[u,h]=(0,s.useState)(""),m=async()=>{c(!0),h("");try{let e=await fetch("/api/operating-hours");if(e.ok){let a=await e.json();console.log(a),n(a)}else h("Failed to fetch operating hours")}catch(e){h("Error fetching operating hours"),console.error(e)}finally{c(!1)}};(0,s.useEffect)(()=>{m()},[]);let p=async(e,a)=>{try{(await fetch("/api/operating-hours/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,isActive:!a})})).ok?m():h("Failed to update operating hours")}catch(e){h("Error updating operating hours"),console.error(e)}},x=async e=>{if(confirm("Are you sure you want to delete these operating hours?"))try{(await fetch("/api/operating-hours?id=".concat(e),{method:"DELETE"})).ok||h("Failed to delete operating hours")}catch(e){h("Error deleting operating hours"),console.error(e)}};return(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Operating Hours"}),u&&(0,t.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:u}),o&&(0,t.jsx)("div",{className:"text-center py-4",children:"Loading..."}),!o&&(0,t.jsx)("div",{className:"space-y-4",children:0===i.length?(0,t.jsx)("p",{className:"text-gray-500",children:"No operating hours set."}):i.map(e=>(0,t.jsx)("div",{className:"border rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:d[e.dayOfWeek]}),(0,t.jsxs)("p",{className:"text-gray-600",children:[e.startTime," - ",e.endTime]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>p(e.id,e.isActive),className:"px-3 py-1 rounded text-sm ".concat(e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.isActive?"Active":"Inactive"}),(0,t.jsx)("button",{onClick:()=>x(e.id),className:"px-3 py-1 bg-red-100 text-red-800 rounded text-sm hover:bg-red-200",children:"Delete"})]})]})},e.id))})]})}let i=[{value:0,label:"Sunday"},{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"}];function n(e){let{providers:a,onSuccess:r}=e,[d,l]=(0,s.useState)({dayOfWeek:"",startTime:"09:00",endTime:"17:00"}),[n,o]=(0,s.useState)(!1),[c,u]=(0,s.useState)(""),[h,m]=(0,s.useState)(""),p=async e=>{e.preventDefault(),o(!0),u(""),m("");try{let e=await fetch("/api/operating-hours",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...d,dayOfWeek:parseInt(d.dayOfWeek)})});e.ok?(m("Operating hours created successfully!"),l({dayOfWeek:"",startTime:"09:00",endTime:"17:00"}),r&&r()):(await e.json(),u("Failed to create operating hours"))}catch(e){u("Error creating operating hours"),console.error(e)}finally{o(!1)}},x=e=>{l(a=>({...a,[e.target.name]:e.target.value}))};return(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Add Operating Hours"}),c&&(0,t.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:c}),h&&(0,t.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:h}),(0,t.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Day of Week"}),(0,t.jsxs)("select",{name:"dayOfWeek",value:d.dayOfWeek,onChange:x,required:!0,className:"border rounded px-3 py-2 w-full",children:[(0,t.jsx)("option",{value:"",children:"Select a day"}),i.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Start Time"}),(0,t.jsx)("input",{type:"time",name:"startTime",value:d.startTime,onChange:x,required:!0,className:"border rounded px-3 py-2 w-full"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"End Time"}),(0,t.jsx)("input",{type:"time",name:"endTime",value:d.endTime,onChange:x,required:!0,className:"border rounded px-3 py-2 w-full"})]})]}),(0,t.jsx)("button",{type:"submit",disabled:n,className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition disabled:bg-blue-400",children:n?"Creating...":"Create Operating Hours"})]})]})}function o(){let[e,a]=(0,s.useState)([]),[r,d]=(0,s.useState)("list"),[i,o]=(0,s.useState)(0);return(0,s.useEffect)(()=>{},[]),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Operating Hours Management"}),(0,t.jsx)("div",{className:"border-b mb-6",children:(0,t.jsx)("nav",{className:"flex space-x-8",children:[{id:"list",label:"View Hours"},{id:"create",label:"Add Hours"}].map(e=>(0,t.jsx)("button",{onClick:()=>d(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(r===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id))})}),(0,t.jsxs)("div",{children:["list"===r&&(0,t.jsx)(l,{providers:e},i),"create"===r&&(0,t.jsx)(n,{providers:e,onSuccess:()=>{o(e=>e+1)}})]})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=7628)),_N_E=e.O()}]);